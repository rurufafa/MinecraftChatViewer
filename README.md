# 🪓 MinecraftChatViewer

Minecraft のログファイルを監視し、特定のキーワードやルールに基づいて整形・表示するチャットビューワーアプリです。

## 📦 ダウンロード

➡️ 実行ファイルは [Releasesページ](https://github.com/rurufafa/MinecraftChatViewer/releases) の `deploy.zip` に含まれています。  
`Source code.zip` はソースコードのみですので、実行ファイルは含まれていません。

---

## 🎮 タイトル画面

起動するとタイトル画面が表示され、以下の機能にアクセスできます：
- ブロックモード : キーワード設定参照
- 除外モード : キーワード設定参照
- **ログファイル** : Minecraftのログファイルを選択してください。(デフォルトではlatest.log)
- **キーワード設定**  
- **チャットビューワー起動**
- **詳細設定**
- タイトル画面の設定は起動時に保存され、次回起動時にも反映されます。

---

## 🔍 キーワード設定

特定の語句をトリガーとしてチャットをフィルターします。

- **ブラックリスト**：ブロックモードがONのとき、対象キーワードを含むチャットを**非表示**にします。
- **ホワイトリスト**：除外モードがONのとき、対象キーワードを含まないチャットを**非表示**にします
- インポート・エクスポート機能あり

---

## 💬 チャットビューワー

チャットウィンドウでは、指定したログファイルをリアルタイムで監視・表示します。

### 🖱️ 操作

- ウィンドウを右クリック → **コンテキストメニュー**が表示されます。
- `R`キー または コンテクストメニュー → **閲覧モード/デフォルトモードの切り替え**
- `T`キー または コンテクストメニュー → **タイトル画面に戻る**

### 🧭 閲覧モードとは？

- 時間経過によるチャットの自動削除が**無効化**されます。
- 表示中のチャットを**スクロールして閲覧可能**になります。

---

## ⚙️ 詳細設定

詳細設定では、以下の設定タブが存在します：

1. **描画設定**
- 背景色 : チャットビューワーの背景色(透明度つき)
- フォントサイズ
- 最大チャット高さ : デフォルトモード時の自動調整によって拡張される最大の高さ
- 余白の高さ : チャット欄下部の余白の高さ
- 文字コード : Minecraftのlogファイルの文字コードはデフォルトでShift-JIS
- チャット欄を最上面に固定
2. **ログ管理設定**
- タイムアウト : チャットが表示されてからフェードアウトし始めるまでの時間
- 最大ログ数 : 閲覧モード切替時に保持するログ数
- ログ更新間隔 : 選択されたlogファイルの更新を確認する間隔 (ミリ秒)
- フェードアウト間隔 : チャットのフェードアウトについて透明度を下げる処理を行う間隔 (ミリ秒)(短すぎると動作が重くなる可能性があります)
- 透過減少量 : フェードアウト間隔ごとに減少させる透明度の大きさ (min: 0, max: 1)
- チャット接頭辞 : チャットの開始指定ワード
3. **操作設定**
- 表示モード切替キー : 閲覧モードとデフォルトモードを切り替える
- タイトル画面キー : タイトル画面を開く
- 起動時にタイトル画面をスキップ
4. **追加機能設定**
- チャット時刻の表示 : チャットの投稿時刻を表示する(ログファイルにおける時刻形式が\[00:00:00\]である必要があります)
- PosRecord : F3 + C 押下時にクリップボードから現在座標を取得し、記録します。記録した座標は/stat listで確認(shigen鯖でのみ有効)
- MiningRecord : /stat listを実行時に採掘量を取得し、今日の採掘量などを表示します(shigen鯖でのみ有効)
- 採掘目標 : /stat list実行時に今日の採掘量との差を表示します
- 最小ペース計測間隔 : 採掘ペースを計測する間隔 (分)

**それぞれの設定内容は適用時に保存されます。**

---

## 🧩 ルール設定

複雑な整形・フィルター処理を設定できます。

- **ルールグループ**とその中に属する**個別ルール**を編集可能
- 各ルールには**フィルター条件**を設定し、条件に一致するチャットを処理対象とし特定文字列の置換を実行します。
- インポート・エクスポート機能あり
- フィルター設定画面も搭載

---

## 🔍 個別タイムアウト設定

特定のキーワードごとにタイムアウト時間を設定できます

- キーワードを含むチャットのタイムアウト時間を設定できます
- インポート・エクスポート機能あり

---

## 📁 フォルダ構成（ソースコード）
MinecraftChatViewer/
├── src/ # アプリケーション本体
├── ui/ # Qt Designer で作成した UI ファイル
├── CMakeLists.txt
├── build.bat 
└── README.md
